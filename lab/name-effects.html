<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Name Animation Tests — Andre Batista Blog</title>
    <link rel="stylesheet" href="../style.css" />
    <style>
      .demo-grid { display: grid; gap: 1.5rem; margin-top: 1.25rem; }
      .demo {
        position: relative;
        border: 1px solid #eaeaea;
        border-radius: 14px;
        padding: 2rem 1.25rem;
        overflow: hidden;
        background: #fff;
        min-height: 180px;
      }
      .demo h3 {
        margin: 0 0 .4rem;
        font-size: .86rem;
        letter-spacing: .03em;
        color: #666;
        text-transform: none !important;
      }
      .hero-name {
        position: relative;
        z-index: 2;
        margin: .2rem 0;
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        letter-spacing: -0.02em;
        text-transform: none !important;
      }
      .hero-sub { position: relative; z-index: 2; margin: 0; color: #666; font-size: .95rem; }
      .fx { position: absolute; inset: 0; z-index: 1; pointer-events: none; }

      /* 1) Terminal Ghost Lines */
      .fx-terminal {
        opacity: .13;
        background-image:
          repeating-linear-gradient(to bottom, rgba(0,0,0,.06) 0 1px, transparent 1px 6px),
          linear-gradient(90deg, transparent, rgba(0,0,0,.04), transparent);
        background-size: 100% 100%, 240% 100%;
        animation: ghostScan 9s linear infinite;
      }
      .fx-terminal::after {
        content: "$ parse logs   $ retry queue   $ deploy main   $ done";
        position: absolute;
        left: -5%;
        top: 64%;
        font: 500 12px/1.4 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        color: #000;
        opacity: .25;
        animation: ghostDrift 13s ease-in-out infinite;
      }

      /* 2) Cursor + tiny jitter */
      .name-cursor::after {
        content: "▍";
        margin-left: .18rem;
        opacity: .32;
        animation: blink 1.2s steps(1,end) infinite;
      }
      .name-jitter {
        animation: nudge 6s ease-in-out infinite;
      }

      /* 3) Matrix dust canvas */
      .fx-canvas { opacity: .18; }
      canvas.matrix { width: 100%; height: 100%; display: block; }

      /* 4) Echo shadow */
      .echo::before {
        content: attr(data-name);
        position: absolute;
        left: 0;
        top: 0;
        color: #000;
        opacity: .12;
        transform: translate(0,0);
        animation: echoShift 4.6s ease-in-out infinite;
        filter: blur(.2px);
      }
      .echo { position: relative; display: inline-block; }

      /* 5) Sweep highlight */
      .fx-sweep::before {
        content: "";
        position: absolute;
        top: 0;
        left: -40%;
        width: 30%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0,0,0,.08), transparent);
        transform: skewX(-15deg);
        animation: sweep 7.8s ease-in-out infinite;
      }

      @keyframes ghostScan {
        from { background-position: 0 0, 0 0; }
        to   { background-position: 0 0, 100% 0; }
      }
      @keyframes ghostDrift {
        0%,100% { transform: translateX(0); opacity:.18; }
        50% { transform: translateX(10%); opacity:.34; }
      }
      @keyframes blink { 50% { opacity: 0; } }
      @keyframes nudge {
        0%, 93%, 100% { transform: translateX(0); }
        94% { transform: translateX(.5px); }
        95% { transform: translateX(-.5px); }
      }
      @keyframes echoShift {
        0%,100% { transform: translate(0,0); opacity:.08; }
        50% { transform: translate(1.2px,-.8px); opacity:.16; }
      }
      @keyframes sweep {
        0%, 75%, 100% { left: -40%; opacity: 0; }
        80%, 92% { opacity: 1; }
        100% { left: 120%; opacity: 0; }
      }

      @media (prefers-reduced-motion: reduce) {
        .fx-terminal, .fx-terminal::after, .name-cursor::after, .name-jitter, .echo::before, .fx-sweep::before { animation: none !important; }
      }
    </style>
  </head>
  <body>
    <main class="container">
      <nav><a href="../index.html">← Back to home</a></nav>
      <h1 style="margin:.7rem 0 0;">Name animation lab (v2)</h1>
      <p class="meta">All options animate. Subtle, dark-on-light, terminal-ish.</p>

      <section class="demo-grid">
        <article class="demo">
          <div class="fx fx-terminal" aria-hidden="true"></div>
          <h3>Option 1 — Terminal Ghost Lines</h3>
          <h2 class="hero-name">Andre Batista</h2>
          <p class="hero-sub">Moving scan texture + drifting command trace.</p>
        </article>

        <article class="demo">
          <h3>Option 2 — Cursor + Micro Jitter</h3>
          <h2 class="hero-name name-cursor name-jitter">Andre Batista</h2>
          <p class="hero-sub">Blinking caret with occasional tiny terminal twitch.</p>
        </article>

        <article class="demo">
          <div class="fx fx-canvas"><canvas class="matrix" id="matrix1"></canvas></div>
          <h3>Option 3 — Matrix Dust (Sparse)</h3>
          <h2 class="hero-name">Andre Batista</h2>
          <p class="hero-sub">Very sparse falling glyphs in the background.</p>
        </article>

        <article class="demo">
          <h3>Option 4 — Echo Shadow</h3>
          <h2 class="hero-name"><span class="echo" data-name="Andre Batista">Andre Batista</span></h2>
          <p class="hero-sub">A subtle second-layer ghost offset that slowly shifts.</p>
        </article>

        <article class="demo">
          <div class="fx fx-sweep" aria-hidden="true"></div>
          <h3>Option 5 — Rare Sweep Highlight</h3>
          <h2 class="hero-name">Andre Batista</h2>
          <p class="hero-sub">An occasional low-key sweep passes behind the name.</p>
        </article>
      </section>
    </main>

    <script>
      (function () {
        const c = document.getElementById('matrix1');
        const ctx = c.getContext('2d');
        const chars = '01$#{}[]<>/\\+=-';
        function resize() {
          const r = c.getBoundingClientRect();
          c.width = Math.max(1, Math.floor(r.width * devicePixelRatio));
          c.height = Math.max(1, Math.floor(r.height * devicePixelRatio));
          ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
        }
        resize();
        addEventListener('resize', resize);

        const cols = Math.max(10, Math.floor(c.getBoundingClientRect().width / 26));
        const drops = Array(cols).fill(0).map(() => Math.random() * -40);

        function draw() {
          const w = c.getBoundingClientRect().width;
          const h = c.getBoundingClientRect().height;
          ctx.fillStyle = 'rgba(255,255,255,0.08)';
          ctx.fillRect(0, 0, w, h);
          ctx.fillStyle = 'rgba(0,0,0,0.35)';
          ctx.font = '11px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace';
          for (let i = 0; i < cols; i++) {
            const x = i * 26 + 4;
            const y = drops[i] * 12;
            const ch = chars[(Math.random() * chars.length) | 0];
            if (y > -12 && y < h + 20) ctx.fillText(ch, x, y);
            drops[i] += 0.04 + Math.random() * 0.08;
            if (y > h + 40) drops[i] = Math.random() * -20;
          }
          requestAnimationFrame(draw);
        }
        draw();
      })();
    </script>
  </body>
</html>
